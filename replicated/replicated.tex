\section{Replicated Protocols}


\subsection{Overview}

\begin{itemize}
    \item three parties, each with two shares
    \item semi-honest security
    \item fixedpoint arithmetic in rings $\mathbb{Z}_{2^{k}}$; concretely, $\mathbb{Z}_{2^{64}}$ and $\mathbb{Z}_{2^{128}}$
    \item tensorized version of \cite{CCS:AFLNO16} (is this correct?)
\end{itemize}

For the linear regression use-case we only need to support a limited number of
operations on secret data, most important of this is a large secret matrix-matrix
multiplication.

TODO: briefly describe linear secret sharing

Throughout this section we use 
$$
\share{x} = \big((x_1^1, x_2^1), (x_2^2, x_3^2), (x_3^3, x_1^3)\big)
$$ to denote a replicated secret shared value consisting of shares $x_1 = x_1^1 = x_1^3$, $x_2 = x_2^2 = x_2^1$, and $x_3 = x_3^3 = x_3^2$ where $P_i$ holds $x_i^i$ and $x_{i+1}^i$ (with indices wrapping around) and $x = \sum_{i=1}^3 x_i \in \Z_{2^k}$. 
%Note that $\share{x}$ hence also states that the $x_{i+1}$ held by $P_i$ matches the $x_{i+1}$ held by $P_{i+1}$. We furthermore use this to express statements about results of computing on secret shared values such as for instance $\share{\vz} = \share{\vx + \vy} = \share{\vx} + \share{\vy}$.

\subsection{Basic protocols}

\noindent{\textbf{Addition}}. To add two secret shares $\share{x}$ and $\share{y}$
each party locally adds their shares and computes $\share{x+y} =
(x_i + y_i, x_{\inc{i}} + y_{\inc{i}})$ for all $i \in [3]$.

\begin{Boxfig}{Replicated addition}{fig:replicated-add}
  {Protocol $\Proto{\mathsf{RepAdd}_{[P_1, P_2, P_3]}}(\share{\vx}, \share{\vy})$}
  
  Let $\big((\vx_1^1, \vx_2^1), (\vx_2^2, \vx_3^2), (\vx_3^3, \vx_1^3) \big) = \share{\vx}$ \newline
  Let $\big((\vy_1^1, \vy_2^1), (\vy_2^2, \vy_3^2), (\vy_3^3, \vy_1^3) \big) = \share{\vy}$ \newline
  
  With Host($P_i$) for $i \in [3]$:
  \begin{enumerate}
    \item $\vz_i^i \asn \vx_i^i + \vy_i^i$
    \item $\vz_{i+1}^i \asn \vx_{i+1}^i + \vy_{i+1}^i$
  \end{enumerate}
  ~\newline
  Let $\share{\vz} = \big((\vz_1^1, \vz_2^1), (\vz_2^2, \vz_3^2), (\vz_3^3, \vz_1^3) \big)$
\end{Boxfig}

\input{protocols/mul}
\input{protocols/inputs}
\input{dot-product}
\input{fixed-point}
\input{comparisons}
\input{related}

